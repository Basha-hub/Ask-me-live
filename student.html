<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Student Portal</title>
 
  <!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>
<!-- Supabase -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
 
  <style>
    :root{
      --bg-url: url("project questions/university.jpg"); /* ‚üµ change if needed */
    }
    body{ font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; }
 
    /* Background + tint */
    .backdrop{ position: fixed; inset:0; z-index:0; overflow:hidden; }
    .backdrop::before{
      content:""; position:absolute; inset:-10px;
      background-image: var(--bg-url);
      background-size: cover; background-position:center;
      filter: blur(10px) saturate(1.05);
      transform: scale(1.05);
    }
    .backdrop::after{
      content:""; position:absolute; inset:0;
      background: linear-gradient(180deg, rgba(2,6,23,0.45) 0%, rgba(2,6,23,0.65) 100%);
    }
 
    /* Floating bubbles */
    .bubbles{ position: fixed; inset:0; z-index:1; pointer-events:none; overflow:hidden; }
    .bubble{
      position:absolute; border-radius:9999px; opacity:.55; backdrop-filter: blur(4px);
      box-shadow: 0 10px 30px rgba(0,0,0,.15), inset 0 1px 2px rgba(255,255,255,.35);
      animation: floatUp var(--dur, 18s) linear infinite;
      background:
        radial-gradient(120% 120% at 30% 30%, rgba(255,255,255,.55) 0%, rgba(255,255,255,.15) 60%, rgba(255,255,255,0) 70%),
        var(--icon) center/55% no-repeat,
        linear-gradient(135deg, var(--c1), var(--c2));
      border: 1px solid rgba(255,255,255,.35);
    }
    @keyframes floatUp{
      0%{   transform: translateY(15vh) translateX(0) }
      50%{  transform: translateY(-15vh) translateX(1.5vw) }
      100%{ transform: translateY(-55vh) translateX(-1.5vw) }
    }
    .b1{ width:150px; height:150px; left:12vw; bottom:-18vh; --dur:22s; --c1:#c7d2fe; --c2:#e9d5ff; --icon: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='256' height='256' viewBox='0 0 24 24' fill='none' stroke='%235256b3' stroke-width='1.4' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M4 19h16M6 19V7a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12'/%3E%3C/svg%3E"); }
    .b2{ width:110px; height:110px; left:70vw; bottom:-14vh; --dur:17s; --c1:#bae6fd; --c2:#a7f3d0; --icon: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='256' height='256' viewBox='0 0 24 24' fill='none' stroke='%230a6' stroke-width='1.4' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='9' y='2' width='6' height='11' rx='3'/%3E%3Cpath d='M12 14v7M8 21h8'/%3E%3C/svg%3E"); }
    .b3{ width:190px; height:190px; left:42vw; bottom:-22vh; --dur:24s; --c1:#fde68a; --c2:#fbcfe8; --icon: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='256' height='256' viewBox='0 0 24 24' fill='none' stroke='%238a4' stroke-width='1.4' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M9 9a3 3 0 1 1 3 3c-1 1-1 2-1 3'/%3E%3Ccircle cx='12' cy='19' r='1'/%3E%3C/svg%3E"); }
 
    /* Glass cards */
    .glass{
      background: rgba(210, 232, 255, 0.35);
      border: 1px solid rgba(255, 255, 255, 0.45);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.35);
    }
</style>
</head>
 
<body class="min-h-screen flex items-center justify-center p-4 relative text-gray-100">
<!-- BG + Bubbles -->
<div class="backdrop"></div>
<div class="bubbles">
<div class="bubble b1"></div>
<div class="bubble b2"></div>
<div class="bubble b3"></div>
</div>
 
  <!-- CONTENT (z-10 ensures visibility above background) -->
<div class="relative z-10 w-full max-w-5xl mx-auto">
<!-- Login View -->
<div id="login-view" class="w-full max-w-md mx-auto p-8 rounded-2xl glass">
<h2 class="text-3xl font-extrabold text-center text-white drop-shadow mb-6">Join a Class</h2>
<div class="space-y-4">
<div>
<label for="session-key-input" class="block text-sm font-medium text-white/90">Session Key</label>
<input id="session-key-input" type="text" placeholder="Enter key (e.g., CLASS-ABC123)"
                 class="mt-1 w-full px-4 py-3 bg-white/70 text-slate-900 border border-white/60 rounded-lg shadow-inner focus:outline-none focus:ring-2 focus:ring-sky-300">
</div>
<button id="join-btn"
                class="w-full py-3 rounded-lg font-semibold text-slate-900 shadow
                       bg-sky-200 hover:bg-sky-300 focus:ring-2 focus:ring-sky-300">
          Join
</button>
<p id="login-error" class="text-rose-200 text-sm text-center min-h-[1.25rem]"></p>
</div>
</div>
 
    <!-- Questions View -->
<div id="questions-view" class="w-full max-w-4xl mx-auto mt-8 p-8 rounded-2xl glass hidden">
<div class="flex items-center justify-between mb-6">
<h2 class="text-3xl font-extrabold text-white drop-shadow">AI-Generated Questions</h2>
<span id="session-key-display"
              class="px-3 py-1 bg-white/70 text-slate-900 rounded-full text-sm font-medium border border-white/60">
</span>
</div>
 
      <!-- Pre-generated -->
<div class="mb-8">
<button id="fetch-questions-btn"
                class="w-full py-3 rounded-lg font-semibold text-slate-900 shadow
                       bg-violet-200 hover:bg-violet-300 focus:ring-2 focus:ring-violet-300 mb-4">
          See/Refresh Questions
</button>
<ul id="questions-list" class="space-y-3 h-64 overflow-y-auto bg-white/70 p-4 rounded-lg border border-white/60 text-slate-900">
<li class="text-slate-600">Click the button to load questions...</li>
</ul>
</div>
 
      <!-- Ask your own -->
<div>
<h3 class="text-2xl font-bold text-white drop-shadow mb-4">Ask Your Own Question</h3>
<textarea id="custom-question-input" rows="3"
                  class="w-full px-4 py-3 bg-white/70 text-slate-900 border border-white/60 rounded-lg shadow-inner focus:outline-none focus:ring-2 focus:ring-teal-300"
                  placeholder="Type your own question here..."></textarea>
<button id="submit-custom-question-btn"
                class="mt-3 w-full py-3 rounded-lg font-semibold text-slate-900 shadow
                       bg-teal-200 hover:bg-teal-300 focus:ring-2 focus:ring-teal-300">
          Submit Question
</button>
<div id="custom-question-status" class="mt-3 text-sm text-center text-white/90"></div>
</div>
</div>
</div>
 
  <!-- Action Modal -->
<div id="action-modal" class="fixed inset-0 bg-slate-900/70 flex items-center justify-center p-4 hidden z-20">
<div class="glass w-full max-w-lg p-6 rounded-2xl">
<h3 class="text-xl font-semibold text-white mb-3">Selected Question:</h3>
<p id="modal-question-text" class="bg-white/70 text-slate-900 p-4 rounded-lg mb-6 border border-white/60"></p>
 
      <div id="modal-options" class="space-y-3">
<button id="ask-teacher-btn"
                class="w-full py-3 rounded-lg font-semibold text-slate-900 shadow
                       bg-pink-200 hover:bg-pink-300 focus:ring-2 focus:ring-pink-300">
          Ask Teacher
</button>
<button id="ask-ai-btn"
                class="w-full py-3 rounded-lg font-semibold text-slate-900 shadow
                       bg-amber-200 hover:bg-amber-300 focus:ring-2 focus:ring-amber-300">
          Ask AI for Answer
</button>
</div>
 
      <div id="modal-response-area" class="hidden mt-5">
<h4 class="text-lg font-medium text-white mb-2">Response:</h4>
<div id="modal-response-text" class="bg-white/70 text-slate-900 p-4 rounded-lg min-h-[100px] border border-white/60"></div>
</div>
 
      <button id="close-modal-btn"
              class="mt-6 w-full py-2 rounded-lg font-medium text-white/90 border border-white/50 hover:bg-white/10">
        Close
</button>
</div>
</div>
 
  <script src="student.js"></script>
</body>
</html>